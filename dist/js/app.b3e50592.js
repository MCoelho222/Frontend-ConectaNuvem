(function(){"use strict";var t={2061:function(t,e,o){var n=o(9242),a=o(3396);function r(t,e,o,n,r,s){const l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l)])}var s={name:"App",components:{}},l=o(89);const u=(0,l.Z)(s,[["render",r]]);var i=u,c=o(2483);const d=t=>((0,a.dD)("data-v-7723d1ca"),t=t(),(0,a.Cn)(),t),p={id:"home"},h=d((()=>(0,a._)("h4",{id:"brand-login"},"People Contacts",-1))),m=d((()=>(0,a._)("p",{id:"words-login"},"All your contacts by domain",-1))),f=d((()=>(0,a._)("p",null,"Please, come and share your contacts!",-1))),g=d((()=>(0,a._)("p",{id:"footer"},"Â© 2022 M Coelho People. All rights reserved.",-1)));function v(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",p,[h,m,f,(0,a._)("button",{class:"btn btn-outline-primary",type:"button",onClick:e[0]||(e[0]=(...t)=>s.enterWithGoogle&&s.enterWithGoogle(...t))},"Login with Google"),g])}o(7658);var y=o(65),b=o(8541);const k=(0,b.fP)().cookies;var w={data(){return{user:{}}},methods:{...(0,y.nv)(["auth/getUrlAuth","auth/validateToken"]),enterWithGoogle(){this["auth/getUrlAuth"]().then((()=>{location.href=this.url_auth}))}},computed:{...(0,y.rn)({url_auth:t=>t.auth.url_auth})},async mounted(){let t=k.get("token");null!==t&&t.status&&await this["auth/validateToken"](t.token).then((()=>{let t=k.get("token");t.status&&this.$router.push("/people/contacts")}))}};const _=(0,l.Z)(w,[["render",v],["__scopeId","data-v-7723d1ca"]]);var O=_;const P={class:"navbar-div"};function D(t,e,o,n,r,s){const l=(0,a.up)("proj-nav"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",P,[(0,a.Wm)(l),(0,a.Wm)(u)])}const j=t=>((0,a.dD)("data-v-795e7c6e"),t=t(),(0,a.Cn)(),t),S={class:"container-fluid"},U={class:"navbar navbar-expand-lg bg-primary"},$={class:"container-fluid"},x=j((()=>(0,a._)("span",{id:"brand"},"People Contacts",-1)));function I(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("nav",U,[(0,a._)("div",$,[x,(0,a._)("button",{class:"btn btn-outlined btn-primary",type:"button",onClick:e[0]||(e[0]=(...t)=>s.logout&&s.logout(...t))},"Logout")])])])}var C={data(){return{}},methods:{...(0,y.nv)(["auth/logout"]),logout(){this["auth/logout"]().then((()=>this.$router.push("/")))}},computed:{}};const T=(0,l.Z)(C,[["render",I],["__scopeId","data-v-795e7c6e"]]);var Z=T,W={components:{"proj-nav":Z},data(){return{}},methods:{},computed:{}};const A=(0,l.Z)(W,[["render",D],["__scopeId","data-v-03329462"]]);var L=A;const M=(0,a._)("h1",null,"Report",-1),z=[M];function E(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",null,z)}var J={data(){return{}},methods:{},computed:{}};const N=(0,l.Z)(J,[["render",E]]);var G=N,R=o(7139);const H=t=>((0,a.dD)("data-v-34d9da8a"),t=t(),(0,a.Cn)(),t),K={class:"container-fluid"},Y={id:"top-msg"},q={id:"welcome"},F={id:"words"},B={id:"email"},Q={key:0,id:"sorry-msg"},V={key:1,id:"todo-msg"},X={key:2,class:"table align-middle"},tt=H((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{class:"text-start lg",scope:"col"},"Domain"),(0,a._)("th",{class:"text-start lg",scope:"col"},"Emails")])],-1))),et={scope:"row"},ot={class:"text-start"},nt={class:"text-start"};function at(t,e,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",K,[(0,a._)("div",Y,[(0,a._)("h5",q,(0,R.zw)(s.welcomeMsg),1),(0,a._)("p",F,(0,R.zw)(s.someOtherWords),1),(0,a._)("p",B,(0,R.zw)(s.emailAddress),1)]),s.isEmpty?((0,a.wg)(),(0,a.iD)("p",Q,"Sorry, you don't have any contacts to share...")):(0,a.kq)("",!0),s.isEmpty?((0,a.wg)(),(0,a.iD)("p",V,"Please, go to your e-mail box and add some e-mails to your contacts.")):((0,a.wg)(),(0,a.iD)("table",X,[tt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.peopleObj.contacts,((t,e,o)=>((0,a.wg)(),(0,a.iD)("tr",{key:o},[(0,a._)("th",et,(0,R.zw)(o+1),1),(0,a._)("td",ot,(0,R.zw)(e),1),(0,a._)("td",nt,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e},(0,R.zw)(t),1)))),128))])])])))),128))])]))])}const rt=(0,b.fP)().cookies;var st={data(){return{peopleObj:{profile:{},contacts:[]},name:"User",email:"useremail@email.com"}},methods:{...(0,y.nv)(["contacts/getPersonInfo"]),async populate(){let t=rt.get("token");if(null!==t){if(t.status){let e=this.$loading.show();await this["contacts/getPersonInfo"](t.token).then((()=>{e.hide();let t=localStorage.getItem("people"),o=JSON.parse(t);if(this.name=o["profile"]["name"],this.email=o["profile"]["email"],null!=t){let e=JSON.parse(t);this.peopleObj=e}}))}t.status||this.$router.push("/")}null==t&&this.$router.push("/")}},computed:{isEmpty(){let t=Object.keys(this.peopleObj.contacts);return 0==t.length},welcomeMsg(){return`Welcome, ${this.name}!`},someOtherWords(){return"These are the email addresses from all your contacts"},emailAddress(){return`${this.email}`}},mounted(){return this.populate()}};const lt=(0,l.Z)(st,[["render",at],["__scopeId","data-v-34d9da8a"]]);var ut=lt;const it=(0,b.fP)().cookies,ct=[{path:"/",name:"Login",component:O},{path:"/people/:token?",name:"Template",component:L,beforeEnter:t=>{if(t.params.token){let e={token:t.params.token,status:!0};return it.set("token",JSON.stringify(e)),t.path="/people/contacts"}},children:[{path:"contacts",component:ut},{path:"report",component:G}]}];var dt=ct;const pt=(0,c.p7)({routes:dt,history:(0,c.r5)()});var ht=pt,mt=o(70);const ft=(0,b.fP)().cookies;var gt={namespaced:!0,state(){return{url_auth:null,status:!0,backendUrl:"https://mcoelho-people-w5u4ladcda-uc.a.run.app"}},getters:{},mutations:{setURL(t,e){t.url_auth=e}},actions:{async getUrlAuth(t){t.commit("setURL",null),await mt.ZP.post(`${t.state.backendUrl}/users/auth/google`).then((e=>{t.commit("setURL",e.data.url)}))},async validateToken(t,e){await mt.ZP.get(`${t.state.backendUrl}/users/verify/?token=${e}`).then((t=>{let e=ft.get("token");"false"==t.data.status&&(e.status=!1),"true"==t.data.status&&(e.status=!0),ft.set("token",JSON.stringify(e))}))},async logout(t){await mt.ZP.get(`${t.state.backendUrl}/users/logout`).then((()=>{t.state.status=!1;let e=ft.get("token");null!==e&&(ft.remove("token"),localStorage.removeItem("people"))}))}}};const vt=(0,b.fP)().cookies;var yt={namespaced:!0,state(){return{personInfo:{},backendUrl:"https://mcoelho-people-w5u4ladcda-uc.a.run.app"}},getters:{},mutations:{},actions:{async getPersonInfo(t,e){await mt.ZP.get(`${t.state.backendUrl}/people/?token=${e}`).then((t=>{let e=vt.get("token");if(t.error){e.status=!1;let t=JSON.stringify(e);vt.set("token",t)}else null!==e&&e.status&&localStorage.setItem("people",JSON.stringify(t.data))}))}}};const bt=(0,y.MT)({modules:{auth:gt,contacts:yt}});var kt=bt,wt=o(5513);const _t=(0,n.ri)(i);_t.use(kt),_t.use(ht),_t.use(wt.LoadingPlugin),_t.mount("#app")}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,r){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],r=t[c][2];for(var l=!0,u=0;u<n.length;u++)(!1&r||s>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(l=!1,r<s&&(s=r));if(l){t.splice(c--,1);var i=a();void 0!==i&&(e=i)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,a,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,s=n[0],l=n[1],u=n[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(u)var c=u(o)}for(e&&e(n);i<s.length;i++)r=s[i],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(c)},n=self["webpackChunkdesafio_conecta_nuvem"]=self["webpackChunkdesafio_conecta_nuvem"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(2061)}));n=o.O(n)})();
//# sourceMappingURL=app.b3e50592.js.map