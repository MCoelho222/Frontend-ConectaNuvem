(function(){"use strict";var e={28:function(e,t,o){var n=o(9242),r=o(3396);function a(e,t,o,n,a,s){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(l)])}var s={name:"App",components:{}},l=o(89);const i=(0,l.Z)(s,[["render",a]]);var c=i,u=o(2483);const p=e=>((0,r.dD)("data-v-b60d9846"),e=e(),(0,r.Cn)(),e),d={id:"home"},h=p((()=>(0,r._)("h4",{id:"brand-login"},"People Contacts",-1))),m=p((()=>(0,r._)("p",{id:"words-login"},"All your contacts by domain",-1))),f=p((()=>(0,r._)("p",null,"Please, come and share your contacts!",-1))),g=p((()=>(0,r._)("p",{id:"footer"},"Â© 2022 M Coelho People. All rights reserved.",-1)));function v(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",d,[h,m,f,(0,r._)("button",{class:"btn btn-outline-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>s.enterWithGoogle&&s.enterWithGoogle(...e))},"Login with Google"),g])}o(7658);var b=o(65),w=o(8541);const y=(0,w.fP)().cookies;var _={data(){return{user:{}}},methods:{...(0,b.nv)(["auth/getPersonInfo","auth/validateToken"]),async enterWithGoogle(){await this["auth/getPersonInfo"]().then((()=>this.$router.push("people/contacts")))}},computed:{},mounted(){let e=y.get("token");null!==e&&e.status&&this["auth/validateToken"](e.token).then((()=>{let e=y.get("token");e.status&&this.$router.push("/people/contacts")}))}};const k=(0,l.Z)(_,[["render",v],["__scopeId","data-v-b60d9846"]]);var A=k;const O={class:"navbar-div"};function P(e,t,o,n,a,s){const l=(0,r.up)("proj-nav"),i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",O,[(0,r.Wm)(l),(0,r.Wm)(i)])}const j=e=>((0,r.dD)("data-v-cb194b28"),e=e(),(0,r.Cn)(),e),C={class:"container-fluid"},D={class:"navbar navbar-expand-lg bg-primary"},I={class:"container-fluid"},x=j((()=>(0,r._)("span",{id:"brand"},"People Contacts",-1)));function M(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("nav",D,[(0,r._)("div",I,[x,(0,r._)("button",{class:"btn btn-outlined btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))},"Logout")])])])}var T=o(70);const S=(0,w.fP)().cookies;var Z={data(){return{}},methods:{async logout(){await T.ZP.get("https://mcoelho-peop-4feilbi6na-rj.a.run.app/people/logout",{headers:{"Access-Control-Allow-Origin":"https://mcoelho-peop-4feilbi6na-rj.a.run.app/","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"86400"}}).then((()=>{let e=S.get("token");null!==e&&(S.remove("token"),localStorage.removeItem("people"),this.$router.push("/"))}))}},computed:{}};const E=(0,l.Z)(Z,[["render",M],["__scopeId","data-v-cb194b28"]]);var W=E,G={components:{"proj-nav":W},data(){return{}},methods:{},computed:{}};const $=(0,l.Z)(G,[["render",P],["__scopeId","data-v-03329462"]]);var z=$;const H=(0,r._)("h1",null,"Report",-1),L=[H];function J(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",null,L)}var K={data(){return{}},methods:{},computed:{}};const N=(0,l.Z)(K,[["render",J]]);var Y=N;const q=(0,r._)("h1",null,"Home",-1),F=[q];function R(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",null,F)}var U={components:{},data(){return{}},methods:{},computed:{}};const B=(0,l.Z)(U,[["render",R]]);var Q=B,V=o(7139);const X=e=>((0,r.dD)("data-v-3351476c"),e=e(),(0,r.Cn)(),e),ee={class:"container-fluid"},te={id:"top-msg"},oe={id:"welcome"},ne={id:"words"},re={id:"email"},ae={key:0,id:"sorry-msg"},se={key:1,id:"todo-msg"},le={key:2,class:"table align-middle"},ie=X((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"#"),(0,r._)("th",{class:"text-start lg",scope:"col"},"Domain"),(0,r._)("th",{class:"text-start lg",scope:"col"},"Emails")])],-1))),ce={scope:"row"},ue={class:"text-start"},pe={class:"text-start"};function de(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",ee,[(0,r._)("div",te,[(0,r._)("h5",oe,(0,V.zw)(s.welcomeMsg),1),(0,r._)("p",ne,(0,V.zw)(s.someOtherWords),1),(0,r._)("p",re,(0,V.zw)(s.emailAddress),1)]),s.isEmpty?((0,r.wg)(),(0,r.iD)("h4",ae,"Sorry, you don't have any contacts to share...")):(0,r.kq)("",!0),s.isEmpty?((0,r.wg)(),(0,r.iD)("h5",se,"Please, go to your e-mail box and add some e-mails to your contacts.")):((0,r.wg)(),(0,r.iD)("table",le,[ie,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.peopleObj.contacts,((e,t,o)=>((0,r.wg)(),(0,r.iD)("tr",{key:o},[(0,r._)("th",ce,(0,V.zw)(o+1),1),(0,r._)("td",ue,(0,V.zw)(t),1),(0,r._)("td",pe,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:t},(0,V.zw)(e),1)))),128))])])])))),128))])]))])}const he=(0,w.fP)().cookies;var me={data(){return{peopleObj:{profile:{},contacts:[]},name:"User",email:"useremail@email.com"}},methods:{async populate(){let e=this.$loading.show();setTimeout((()=>e.hide()),500);let t=he.get("token");if(null!==t&&t.status){let e=localStorage.getItem("people"),t=JSON.parse(e);if(this.name=t["profile"]["name"],this.email=t["profile"]["email"],null!=e){let t=JSON.parse(e);this.peopleObj=t}}}},computed:{isEmpty(){let e=Object.keys(this.peopleObj.contacts);return 0==e.length},welcomeMsg(){return`Welcome, ${this.name}!`},someOtherWords(){return"These are the email addresses from all your contacts"},emailAddress(){return`${this.email}`}},mounted(){return this.populate()}};const fe=(0,l.Z)(me,[["render",de],["__scopeId","data-v-3351476c"]]);var ge=fe;const ve=(0,w.fP)().cookies,be=[{path:"/",name:"Login",component:A},{path:"/people/",component:z,beforeEnter:e=>{let t=ve.get("token");return(null===t||t.status)&&null!=t||(e.path="/")},children:[{path:"home",component:Q},{path:"contacts",component:ge},{path:"report",component:Y}]}];var we=be;const ye=(0,u.p7)({routes:we,history:(0,u.r5)()});var _e=ye;const ke=(0,w.fP)().cookies;var Ae={namespaced:!0,state(){return{personInfo:{}}},getters:{sendPersonInfo(e){return e.personInfo},sendPersonInfoKeys(e){let t=Object.keys(e.personInfo);return t}},mutations:{},actions:{async getPersonInfo(e){await T.ZP.get("https://mcoelho-peop-4feilbi6na-rj.a.run.app/people",{headers:{"Access-Control-Allow-Origin":"https://mcoelho-peop-4feilbi6na-rj.a.run.app/","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"86400"}}).then((t=>{let o=ke.get("token");null==o&&ke.set("token",{token:t.data.profile.token,status:!0}),e.state.personInfo=t.data,localStorage.setItem("people",JSON.stringify(t.data))}))},async validateToken(e,t){await T.ZP.get(`https://mcoelho-peop-4feilbi6na-rj.a.run.app/people/verify/?token=${t}`,{headers:{"Access-Control-Allow-Origin":"https://mcoelho-peop-4feilbi6na-rj.a.run.app/","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"86400"}}).then((e=>{if("false"==e.data.status){let e=ke.get("token");e.status=!1,ke.set("token",e)}}))}},modules:{}};const Oe=(0,b.MT)({modules:{auth:Ae}});var Pe=Oe,je=o(5513);const Ce=(0,n.ri)(c);Ce.use(Pe),Ce.use(_e),Ce.use(je.LoadingPlugin),Ce.mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var l=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,s=n[0],l=n[1],i=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var u=i(o)}for(t&&t(n);c<s.length;c++)a=s[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self["webpackChunkdesafio_conecta_nuvem"]=self["webpackChunkdesafio_conecta_nuvem"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(28)}));n=o.O(n)})();
//# sourceMappingURL=app.d059181a.js.map