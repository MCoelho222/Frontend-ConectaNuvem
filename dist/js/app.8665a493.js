(function(){"use strict";var t={8249:function(t,e,o){var n=o(9242),r=o(3396);function a(t,e,o,n,a,s){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(i)])}var s={name:"App",components:{}},i=o(89);const l=(0,i.Z)(s,[["render",a]]);var u=l,c=o(2483);const d=t=>((0,r.dD)("data-v-06614076"),t=t(),(0,r.Cn)(),t),p={id:"home"},h=d((()=>(0,r._)("h4",{id:"brand-login"},"People Contacts",-1))),m=d((()=>(0,r._)("p",{id:"words-login"},"All your contacts by domain",-1))),f=d((()=>(0,r._)("p",null,"Please, come with us and share your contacts!",-1)));function v(t,e,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",p,[h,m,f,(0,r._)("button",{class:"btn btn-outline-primary",type:"button",onClick:e[0]||(e[0]=(...t)=>s.enterWithGoogle&&s.enterWithGoogle(...t))},"Login with Google")])}o(7658);var g=o(65),y=o(8541);const b=(0,y.fP)().cookies;var w={data(){return{user:{}}},methods:{...(0,g.nv)(["auth/getPersonInfo","auth/validateToken"]),async enterWithGoogle(){await this["auth/getPersonInfo"]().then((()=>this.$router.push("people/contacts")))}},computed:{},mounted(){let t=b.get("token");null!==t&&t.status&&this["auth/validateToken"](t.token).then((()=>{let t=b.get("token");t.status&&this.$router.push("/people/contacts")}))}};const _=(0,i.Z)(w,[["render",v],["__scopeId","data-v-06614076"]]);var k=_;const O={class:"navbar-div"};function P(t,e,o,n,a,s){const i=(0,r.up)("proj-nav"),l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",O,[(0,r.Wm)(i),(0,r.Wm)(l)])}const D=t=>((0,r.dD)("data-v-39986e06"),t=t(),(0,r.Cn)(),t),j={class:"container-fluid"},I={class:"navbar navbar-expand-lg bg-primary"},S={class:"container-fluid"},x=D((()=>(0,r._)("span",{id:"brand"},"People Contacts",-1)));function T(t,e,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("nav",I,[(0,r._)("div",S,[x,(0,r._)("button",{class:"btn btn-outlined btn-primary",type:"button",onClick:e[0]||(e[0]=(...t)=>s.logout&&s.logout(...t))},"Logout")])])])}var Z=o(70);const C=(0,y.fP)().cookies;var W={data(){return{}},methods:{async logout(){await Z.ZP.get("http://localhost:5000/people/logout").then((()=>{let t=C.get("token");null!==t&&(C.remove("token"),localStorage.removeItem("people"),this.$router.push("/"))}))}},computed:{}};const $=(0,i.Z)(W,[["render",T],["__scopeId","data-v-39986e06"]]);var z=$,E={components:{"proj-nav":z},data(){return{}},methods:{},computed:{}};const M=(0,i.Z)(E,[["render",P],["__scopeId","data-v-03329462"]]);var A=M;const G=(0,r._)("h1",null,"Report",-1),L=[G];function H(t,e,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",null,L)}var J={data(){return{}},methods:{},computed:{}};const K=(0,i.Z)(J,[["render",H]]);var N=K;const Y=(0,r._)("h1",null,"Home",-1),q=[Y];function F(t,e,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",null,q)}var R={components:{},data(){return{}},methods:{},computed:{}};const U=(0,i.Z)(R,[["render",F]]);var B=U,Q=o(7139);const V=t=>((0,r.dD)("data-v-3351476c"),t=t(),(0,r.Cn)(),t),X={class:"container-fluid"},tt={id:"top-msg"},et={id:"welcome"},ot={id:"words"},nt={id:"email"},rt={key:0,id:"sorry-msg"},at={key:1,id:"todo-msg"},st={key:2,class:"table align-middle"},it=V((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"#"),(0,r._)("th",{class:"text-start lg",scope:"col"},"Domain"),(0,r._)("th",{class:"text-start lg",scope:"col"},"Emails")])],-1))),lt={scope:"row"},ut={class:"text-start"},ct={class:"text-start"};function dt(t,e,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",X,[(0,r._)("div",tt,[(0,r._)("h5",et,(0,Q.zw)(s.welcomeMsg),1),(0,r._)("p",ot,(0,Q.zw)(s.someOtherWords),1),(0,r._)("p",nt,(0,Q.zw)(s.emailAddress),1)]),s.isEmpty?((0,r.wg)(),(0,r.iD)("h4",rt,"Sorry, you don't have any contacts to share...")):(0,r.kq)("",!0),s.isEmpty?((0,r.wg)(),(0,r.iD)("h5",at,"Please, go to your e-mail box and add some e-mails to your contacts.")):((0,r.wg)(),(0,r.iD)("table",st,[it,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.peopleObj.contacts,((t,e,o)=>((0,r.wg)(),(0,r.iD)("tr",{key:o},[(0,r._)("th",lt,(0,Q.zw)(o+1),1),(0,r._)("td",ut,(0,Q.zw)(e),1),(0,r._)("td",ct,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t,((t,e)=>((0,r.wg)(),(0,r.iD)("li",{key:e},(0,Q.zw)(t),1)))),128))])])])))),128))])]))])}const pt=(0,y.fP)().cookies;var ht={data(){return{peopleObj:{profile:{},contacts:[]},name:"User",email:"useremail@email.com"}},methods:{async populate(){let t=this.$loading.show();setTimeout((()=>t.hide()),500);let e=pt.get("token");if(null!==e&&e.status){let t=localStorage.getItem("people"),e=JSON.parse(t);if(this.name=e["profile"]["name"],this.email=e["profile"]["email"],null!=t){let e=JSON.parse(t);this.peopleObj=e}}}},computed:{isEmpty(){let t=Object.keys(this.peopleObj.contacts);return 0==t.length},welcomeMsg(){return`Welcome, ${this.name}!`},someOtherWords(){return"These are the email addresses from all your contacts"},emailAddress(){return`${this.email}`}},mounted(){return this.populate()}};const mt=(0,i.Z)(ht,[["render",dt],["__scopeId","data-v-3351476c"]]);var ft=mt;const vt=(0,y.fP)().cookies,gt=[{path:"/",name:"Login",component:k},{path:"/people/",component:A,beforeEnter:t=>{let e=vt.get("token");return(null===e||e.status)&&null!=e||(t.path="/")},children:[{path:"home",component:B},{path:"contacts",component:ft},{path:"report",component:N}]}];var yt=gt;const bt=(0,c.p7)({routes:yt,history:(0,c.r5)()});var wt=bt;const _t=(0,y.fP)().cookies;var kt={namespaced:!0,state(){return{personInfo:{}}},getters:{sendPersonInfo(t){return t.personInfo},sendPersonInfoKeys(t){let e=Object.keys(t.personInfo);return e}},mutations:{},actions:{async getPersonInfo(t){await Z.ZP.get("http://localhost:5000/people").then((e=>{let o=_t.get("token");null==o&&_t.set("token",{token:e.data.profile.token,status:!0}),t.state.personInfo=e.data,localStorage.setItem("people",JSON.stringify(e.data))}))},async validateToken(t,e){await Z.ZP.get(`http://localhost:5000/people/verify/?token=${e}`).then((t=>{if("false"==t.data.status){let t=_t.get("token");t.status=!1,_t.set("token",t)}}))}},modules:{}};const Ot=(0,g.MT)({modules:{auth:kt}});var Pt=Ot,Dt=o(5513);const jt=(0,n.ri)(u);jt.use(Pt),jt.use(wt),jt.use(Dt.LoadingPlugin),jt.mount("#app")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,a){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],a=t[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<s&&(s=a));if(i){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,r,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,s=n[0],i=n[1],l=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var c=l(o)}for(e&&e(n);u<s.length;u++)a=s[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkdesafio_conecta_nuvem"]=self["webpackChunkdesafio_conecta_nuvem"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(8249)}));n=o.O(n)})();
//# sourceMappingURL=app.8665a493.js.map